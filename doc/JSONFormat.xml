<?xml version="1.0"?>
<?xml-stylesheet href="docbook.xsl" type="text/xsl" ?>
<book xmlns="http://docbook.org/ns/docbook" version="5.0">
  <info>
    <title>JSON Format Specification</title>
    <titleabbrev>JSONFormat</titleabbrev>
    <releaseinfo>26.12</releaseinfo>
    <author>
      <orgname>ONVIF™</orgname>
      <uri>www.onvif.org</uri>
    </author>
    <pubdate>December, 2026</pubdate>
    <mediaobject>
      <imageobject>
        <imagedata fileref="media/logo.png" contentwidth="60mm"/>
      </imageobject>
    </mediaobject>
    <copyright>
      <year>2026</year>
      <holder>ONVIF™ All rights reserved.</holder>
    </copyright>
    <legalnotice>
      <para>Recipients of this document may copy, distribute, publish, or display this document so
        long as this copyright notice, license and disclaimer are retained with all copies of the
        document. No license is granted to modify this document.</para>
      <para>THIS DOCUMENT IS PROVIDED "AS IS," AND THE CORPORATION AND ITS MEMBERS AND THEIR
        AFFILIATES, MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT
        LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,
        NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THIS DOCUMENT ARE SUITABLE FOR ANY PURPOSE;
        OR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY PATENTS, COPYRIGHTS,
        TRADEMARKS OR OTHER RIGHTS.</para>
      <para>IN NO EVENT WILL THE CORPORATION OR ITS MEMBERS OR THEIR AFFILIATES BE LIABLE FOR ANY
        DIRECT, INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL DAMAGES, ARISING OUT OF OR
        RELATING TO ANY USE OR DISTRIBUTION OF THIS DOCUMENT, WHETHER OR NOT (1) THE CORPORATION,
        MEMBERS OR THEIR AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, OR (2)
        SUCH DAMAGES WERE REASONABLY FORESEEABLE, AND ARISING OUT OF OR RELATING TO ANY USE OR
        DISTRIBUTION OF THIS DOCUMENT.  THE FOREGOING DISCLAIMER AND LIMITATION ON LIABILITY DO NOT
        APPLY TO, INVALIDATE, OR LIMIT REPRESENTATIONS AND WARRANTIES MADE BY THE MEMBERS AND THEIR
        RESPECTIVE AFFILIATES TO THE CORPORATION AND OTHER MEMBERS IN CERTAIN WRITTEN POLICIES OF
        THE CORPORATION.</para>
    </legalnotice>
    <revhistory>
      <revision>
        <revnumber>26.12</revnumber>
        <date>Dec 2026</date>
        <author>
          <personname>Peter Damm, Ottavio Campana</personname>
        </author>
        <revremark>First release</revremark>
      </revision>
    </revhistory>
  </info>
  <chapter>
    <title>Scope</title>
    <para>This document defines the ONVIF file format for exported media. The specification defines the mechanism necessary to support interoperable verification of the authenticity by the receiving party.</para>
  </chapter>
  <chapter>
    <title>Normative references</title>
    <para>ONVIF<superscript>TM</superscript> Core Specification</para>
    <para role="reference">&lt;​<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.onvif.org/specs/core/ONVIF-Core-Specification.pdf"></link>&gt;</para>
  </chapter>
  <chapter>
    <title>Terms and Definitions</title>
    <section>
      <title>Definitions</title>
      <variablelist>
        <varlistentry>
          <term>Certificate</term>
          <listitem><para>A certificate as used in this specification binds a public key to a subject entity. The certificate is digitally signed by the certificate issuer to allow for verifying its authenticity </para></listitem>
        </varlistentry>
        <varlistentry>
          <term>Signature</term>
          <listitem><para>A digital signature or digital signature scheme is a mathematical scheme for demonstrating the authenticity of a digital message or document.</para></listitem>
        </varlistentry>
      </variablelist>
    </section>
    <section>
      <title>Abbreviations</title>
      <informaltable>
        <tgroup cols="2">
          <colspec colname="c1" colwidth="24*" />
          <colspec colname="c2" colwidth="76*" />
          <tbody valign="top">
            <row>
              <entry valign="middle">
                <para>MCP</para>
              </entry>
              <entry valign="middle">
                <para>Model Context Protocol</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
  </chapter>
  <chapter>
    <title>Overview</title>
    <section>
      <title>General</title>
      <para>This specification defines the <emphasis role="bold">mandatory</emphasis> and <emphasis role="bold">complete</emphasis> mapping rules for converting WSDL (Web Services Description Language) service definitions into MCP tool descriptors.</para>
    </section>
  </chapter>
  <chapter xml:id="_Ref744182239">
    <title>XSD to JSON Schema Type Mapping Specification</title>
    <section>
      <title>Purpose and scope</title>
      <para>This specification defines the <emphasis role="bold">mandatory</emphasis> and <emphasis role="bold">complete</emphasis> mapping rules for converting XML Schema Definition (XSD) types into JSON Schema (Draft 7) type definitions.</para>
    </section>
  </chapter>
  <chapter>
    <title>MCP Format</title>
    <section>
      <title>Purpose and scope</title>
      <para>This specification covers the conversion of WSDL service definitions to MCP tool descriptors, including:</para>
      <itemizedlist>
        <listitem>
          <para>MCP tool structure and required fields</para>
        </listitem>
        <listitem>
          <para>Operation discovery from WSDL portType definitions</para>
        </listitem>
        <listitem>
          <para>Documentation extraction from WSDL annotations</para>
        </listitem>
        <listitem>
          <para>Input/output message mapping to JSON Schema</para>
        </listitem>
        <listitem>
          <para>Tool naming conventions</para>
        </listitem>
        <listitem>
          <para>Metadata preservation</para>
        </listitem>
      </itemizedlist>
      <para>This specification relies on <xref linkend="_Ref744182239"/> for converting XSD type definitions in WSDL messages to JSON Schema.</para>
    </section>
    <section>
      <title>WSDL Structure</title>
      <para>WSDL files define web service interfaces with:</para>
      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Types</emphasis>: XSD type definitions</para>
        </listitem>
        <listitem>
          <para><emphasis role="bold">Messages</emphasis>: Input/output message definitions</para>
        </listitem>
        <listitem>
          <para><emphasis role="bold">PortType</emphasis>: Abstract operations (what gets converted to MCP tools)</para>
        </listitem>
        <listitem>
          <para><emphasis role="bold">Binding</emphasis>: Protocol details (SOAP, HTTP)</para>
        </listitem>
        <listitem>
          <para><emphasis role="bold">Service</emphasis>: Endpoint addresses</para>
        </listitem>
      </itemizedlist>
    </section>
    <section>
      <title>MCP Tool Descriptor</title>
      <para>Each MCP tool is a JSON object that describes a single callable operation with structured input and output schemas.</para>
    </section>
    <section>
      <title>MCP Tool Structure</title>
      <section>
        <title>Required Fields</title>
        <para>...</para>
      </section>
      <section>
        <title>Field Descriptions</title>
        <para>...</para>
      </section>
    </section>
    <section>
      <title>WSDL Operation Discovery</title>
      <section>
        <title>PortType Location</title>
        <para>...</para>
      </section>
      <section>
        <title>Operation Extraction Process</title>
        <para>...</para>
      </section>
    </section>
    <section>
      <title>Documentation Extraction</title>
      <section>
        <title>Source Location</title>
        <para>...</para>
      </section>
      <section>
        <title>Extraction Process</title>
        <para>...</para>
      </section>
    </section>
    <section>
      <title>Authentication and Authorization</title>
      <para>This topic must be addressed.</para>
    </section>
  </chapter>
  <appendix>
    <title>Appendix placeholder (informative)</title>
    <para>Lorem ipsum...</para>
  </appendix>
  <appendix role="revhistory">
    <title>Revision History</title>
    <para />
  </appendix>
</book>
